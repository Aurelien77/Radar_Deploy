{
  "radar_name": "Application √âtudiant Backend - Architecture",
  "radar_type": "application",
  
  "sections": {
    "1": "üöÄ Point d'entr√©e",
    "2": "‚öôÔ∏è Configuration",
    "3": "üîí S√©curit√©",
    "4": "üåê Contr√¥leurs (API)",
    "5": "üíº Services (Logique)",
    "6": "üíæ Donn√©es (Entities/Repos)",
    "7": "üß™ Tests",
    "8":  "autres"
  },
  
  "rings": {
    "Infrastructure (Base)": [0, 30],
    "Logique M√©tier (C≈ìur)": [31, 60],
    "Interface & Tests (Surface)": [61, 100]
  },
  
  "ring_colors": {
    "Infrastructure (Base)": "#10b981",
    "Logique M√©tier (C≈ìur)": "#3b82f6",
    "Interface & Tests (Surface)": "#8b5cf6"
  },
  
  "anti_collision": true,
  "min_distance_between_points": 4.0,
  
  "technologies": [
    {
      "name": "EtudiantBackendApplication",
      "section": 1,
      "distance": 15,
      "position": 50,
      "description": "# üöÄ Point d'entr√©e de l'application\n\n**Fichier** : `EtudiantBackendApplication.java`\n**R√¥le** : Classe principale Spring Boot\n\n## Annotations\n```java\n@SpringBootApplication\npublic class EtudiantBackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(...);\n    }\n}\n```\n\n## Fonction\n- Lance l'application Spring Boot\n- Configure le contexte Spring\n- D√©marre le serveur embarqu√© (Tomcat)\n\n## üéØ Importance\n**CRITIQUE** - Sans ce fichier, l'application ne d√©marre pas",
      "links": []
    },
    {
      "name": "application.yml",
      "section": 2,
      "distance": 20,
      "position": 40,
      "description": "# ‚öôÔ∏è Configuration de l'application\n\n**Fichier** : `src/main/resources/application.yml`\n**Format** : YAML\n\n## Contient\n- Configuration de la base de donn√©es\n  ```yaml\n  spring:\n    datasource:\n      url: jdbc:mysql://localhost:3306/etudiant_db\n      username: root\n      password: xxxxx\n  ```\n- Configuration JPA/Hibernate\n- Configuration du serveur\n- Propri√©t√©s JWT (secret, expiration)\n\n## üéØ Importance\n**CRITIQUE** - Configuration centrale de l'app",
      "links": []
    },
    {
      "name": "AppConfig",
      "section": 2,
      "distance": 25,
      "position": 60,
      "description": "# ‚öôÔ∏è Configuration Java\n\n**Fichier** : `configuration/AppConfig.java`\n**Type** : Classe de configuration Spring\n\n## Annotations\n```java\n@Configuration\npublic class AppConfig {\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n```\n\n## R√¥le\n- D√©finit les beans Spring\n- Configure les composants r√©utilisables\n- Exemple : PasswordEncoder pour hasher les mots de passe\n\n## üéØ Importance\n**√âLEV√âE** - Beans essentiels pour l'application",
      "links": []
    },
    {
      "name": "RequestLoggingFilterConfig",
      "section": 2,
      "distance": 28,
      "position": 20,
      "description": "# üìù Configuration du logging\n\n**Fichier** : `configuration/logging/RequestLoggingFilterConfig.java`\n\n## R√¥le\n- Configure le filtre de logging des requ√™tes HTTP\n- Enregistre toutes les requ√™tes entrantes\n- Utile pour le debugging et le monitoring\n\n## Configuration\n```java\n@Bean\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\n    CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter();\n    filter.setIncludeQueryString(true);\n    filter.setIncludePayload(true);\n    return filter;\n}\n```\n\n## üéØ Importance\n**MOYENNE** - Aide au debugging",
      "links": []
    },
    {
      "name": "SpringSecurityConfig",
      "section": 3,
      "distance": 18,
      "position": 50,
      "description": "# üîí Configuration de la s√©curit√©\n\n**Fichier** : `configuration/security/SpringSecurityConfig.java`\n**Framework** : Spring Security\n\n## Responsabilit√©s\n1. **Endpoints publics vs prot√©g√©s**\n   ```java\n   http.authorizeRequests()\n       .antMatchers(\"/api/auth/**\").permitAll()\n       .anyRequest().authenticated()\n   ```\n\n2. **Configuration JWT**\n   - Filtre JWT pour valider les tokens\n   - Gestion des sessions (stateless)\n\n3. **CORS**\n   - Autorisations cross-origin\n\n## üéØ Importance\n**CRITIQUE** - Toute la s√©curit√© de l'API",
      "links": []
    },
    {
      "name": "CustomUserDetailService",
      "section": 3,
      "distance": 22,
      "position": 65,
      "description": "# üë§ Service de chargement utilisateur\n\n**Fichier** : `configuration/security/CustomUserDetailService.java`\n**Interface** : `UserDetailsService`\n\n## R√¥le\n```java\n@Service\npublic class CustomUserDetailService implements UserDetailsService {\n    @Override\n    public UserDetails loadUserByUsername(String username) {\n        User user = userRepository.findByUsername(username);\n        return new org.springframework.security.core.userdetails.User(\n            user.getUsername(),\n            user.getPassword(),\n            user.getAuthorities()\n        );\n    }\n}\n```\n\n## Fonction\n- Charge les d√©tails de l'utilisateur depuis la BD\n- Utilis√© par Spring Security pour l'authentification\n\n## üéØ Importance\n**CRITIQUE** - Pont entre Spring Security et votre BD",
      "links": []
    },
    {
      "name": "JwtService",
      "section": 3,
      "distance": 25,
      "position": 35,
      "description": "# üé´ Service JWT\n\n**Fichier** : `service/JwtService.java`\n\n## Responsabilit√©s\n1. **G√©n√©rer des tokens JWT**\n   ```java\n   public String generateToken(String username) {\n       return Jwts.builder()\n           .setSubject(username)\n           .setIssuedAt(new Date())\n           .setExpiration(new Date(System.currentTimeMillis() + 86400000))\n           .signWith(SignatureAlgorithm.HS512, SECRET_KEY)\n           .compact();\n   }\n   ```\n\n2. **Valider les tokens**\n   ```java\n   public boolean validateToken(String token)\n   ```\n\n3. **Extraire les informations**\n   ```java\n   public String getUsernameFromToken(String token)\n   ```\n\n## üéØ Importance\n**CRITIQUE** - Gestion de l'authentification JWT",
      "links": []
    },
    {
      "name": "UserController",
      "section": 4,
      "distance": 45,
      "position": 50,
      "description": "# üåê Contr√¥leur REST Utilisateur\n\n**Fichier** : `controller/UserController.java`\n**Type** : REST Controller\n\n## Endpoints expos√©s\n```java\n@RestController\n@RequestMapping(\"/api/users\")\npublic class UserController {\n    \n    @PostMapping(\"/register\")\n    public ResponseEntity<?> register(@RequestBody RegisterDTO dto) { }\n    \n    @PostMapping(\"/login\")\n    public ResponseEntity<?> login(@RequestBody LoginRequestDTO dto) { }\n    \n    @GetMapping(\"/profile\")\n    public ResponseEntity<?> getProfile() { }\n    \n    @GetMapping\n    public ResponseEntity<?> getAllUsers() { }\n}\n```\n\n## R√¥le\n- **Point d'entr√©e de l'API**\n- Re√ßoit les requ√™tes HTTP\n- Appelle les services\n- Retourne les r√©ponses\n\n## üéØ Importance\n**CRITIQUE** - Interface de l'API",
      "links": []
    },
    {
      "name": "LoginRequestDTO",
      "section": 4,
      "distance": 52,
      "position": 30,
      "description": "# üìã DTO Login\n\n**Fichier** : `dto/LoginRequestDTO.java`\n**Type** : Data Transfer Object\n\n## Structure\n```java\npublic class LoginRequestDTO {\n    private String username;  // ou email\n    private String password;\n    \n    // Getters, Setters, Validation\n}\n```\n\n## R√¥le\n- Recevoir les donn√©es de connexion du client\n- Valider les donn√©es (annotations @NotBlank, @Email, etc.)\n- S√©parer l'API de la couche donn√©es\n\n## üéØ Importance\n**√âLEV√âE** - Contract API pour login",
      "links": []
    },
    {
      "name": "RegisterDTO",
      "section": 4,
      "distance": 52,
      "position": 70,
      "description": "# üìã DTO Register\n\n**Fichier** : `dto/RegisterDTO.java`\n**Type** : Data Transfer Object\n\n## Structure\n```java\npublic class RegisterDTO {\n    @NotBlank\n    private String username;\n    \n    @Email\n    @NotBlank\n    private String email;\n    \n    @Size(min = 6)\n    private String password;\n    \n    private String confirmPassword;\n}\n```\n\n## R√¥le\n- Recevoir les donn√©es d'inscription\n- Valider les champs (email valide, mot de passe assez long)\n- S√©parer l'API de l'entit√© User\n\n## üéØ Importance\n**√âLEV√âE** - Contract API pour inscription",
      "links": []
    },
    {
      "name": "ErrorDetails",
      "section": 4,
      "distance": 65,
      "position": 45,
      "description": "# ‚ö†Ô∏è Structure des erreurs\n\n**Fichier** : `handler/ErrorDetails.java`\n**Type** : DTO pour les erreurs\n\n## Structure\n```java\npublic class ErrorDetails {\n    private Date timestamp;\n    private String message;\n    private String details;\n    private int status;\n    \n    // Constructeur, Getters, Setters\n}\n```\n\n## R√¥le\n- Formater les erreurs de mani√®re standardis√©e\n- Retourner des messages d'erreur clairs au client\n\n## Exemple de r√©ponse\n```json\n{\n  \"timestamp\": \"2024-12-06T10:30:00\",\n  \"message\": \"User not found\",\n  \"details\": \"User with id 123 does not exist\",\n  \"status\": 404\n}\n```\n\n## üéØ Importance\n**MOYENNE** - Am√©liore l'exp√©rience d√©veloppeur",
      "links": []
    },
    {
      "name": "RestExceptionHandler",
      "section": 4,
      "distance": 68,
      "position": 55,
      "description": "# üö® Gestionnaire d'exceptions\n\n**Fichier** : `handler/RestExceptionHandler.java`\n**Annotation** : `@ControllerAdvice`\n\n## R√¥le\n```java\n@ControllerAdvice\npublic class RestExceptionHandler {\n    \n    @ExceptionHandler(UserNotFoundException.class)\n    public ResponseEntity<ErrorDetails> handleUserNotFound(UserNotFoundException ex) {\n        ErrorDetails error = new ErrorDetails(\n            new Date(),\n            ex.getMessage(),\n            \"User not found in database\",\n            HttpStatus.NOT_FOUND.value()\n        );\n        return new ResponseEntity<>(error, HttpStatus.NOT_FOUND);\n    }\n    \n    @ExceptionHandler(Exception.class)\n    public ResponseEntity<ErrorDetails> handleGlobalException(Exception ex) {\n        // ...\n    }\n}\n```\n\n## Fonction\n- Intercepte toutes les exceptions\n- Les transforme en r√©ponses HTTP structur√©es\n- √âvite les stack traces dans les r√©ponses\n\n## üéØ Importance\n**√âLEV√âE** - Gestion propre des erreurs",
      "links": []
    },
    {
      "name": "UserService",
      "section": 5,
      "distance": 38,
      "position": 50,
      "description": "# üíº Service Utilisateur\n\n**Fichier** : `service/UserService.java`\n**Annotation** : `@Service`\n\n## Responsabilit√©s\n```java\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepository;\n    \n    @Autowired\n    private PasswordEncoder passwordEncoder;\n    \n    @Autowired\n    private JwtService jwtService;\n    \n    // Logique m√©tier\n    public User register(RegisterDTO dto) {\n        // 1. V√©rifier si username existe d√©j√†\n        // 2. Hasher le mot de passe\n        // 3. Cr√©er l'utilisateur\n        // 4. Sauvegarder en BD\n    }\n    \n    public String login(LoginRequestDTO dto) {\n        // 1. V√©rifier les credentials\n        // 2. G√©n√©rer un token JWT\n        // 3. Retourner le token\n    }\n    \n    public User getProfile(String username) { }\n    \n    public List<User> getAllUsers() { }\n}\n```\n\n## üéØ Importance\n**CRITIQUE** - Toute la logique m√©tier utilisateur",
      "links": []
    },
    {
      "name": "User",
      "section": 6,
      "distance": 25,
      "position": 50,
      "description": "# üë§ Entit√© Utilisateur\n\n**Fichier** : `entities/User.java`\n**Annotation** : `@Entity`\n\n## Structure\n```java\n@Entity\n@Table(name = \"users\")\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(unique = true, nullable = false)\n    private String username;\n    \n    @Column(unique = true, nullable = false)\n    private String email;\n    \n    @Column(nullable = false)\n    private String password;  // Hash√© !\n    \n    @Column\n    private String role;  // ADMIN, USER, etc.\n    \n    // Getters, Setters, Constructeurs\n}\n```\n\n## R√¥le\n- Repr√©sente la table `users` en base de donn√©es\n- JPA/Hibernate g√®re le mapping automatique\n- Contient les donn√©es persist√©es\n\n## üéØ Importance\n**CRITIQUE** - Mod√®le de donn√©es principal",
      "links": []
    },
    {
      "name": "UserRepository",
      "section": 6,
      "distance": 20,
      "position": 35,
      "description": "# üíæ Repository Utilisateur\n\n**Fichier** : `repository/UserRepository.java`\n**Interface** : `JpaRepository<User, Long>`\n\n## Code\n```java\n@Repository\npublic interface UserRepository extends JpaRepository<User, Long> {\n    \n    // M√©thodes custom\n    Optional<User> findByUsername(String username);\n    \n    Optional<User> findByEmail(String email);\n    \n    boolean existsByUsername(String username);\n    \n    boolean existsByEmail(String email);\n}\n```\n\n## R√¥le\n- Interface avec la base de donn√©es\n- Spring Data JPA g√©n√®re automatiquement les requ√™tes SQL\n- H√©rite des m√©thodes CRUD : `save()`, `findById()`, `findAll()`, `delete()`\n\n## M√©thodes h√©rit√©es\n- `save(User user)` ‚Üí INSERT ou UPDATE\n- `findById(Long id)` ‚Üí SELECT WHERE id = ?\n- `findAll()` ‚Üí SELECT * FROM users\n- `delete(User user)` ‚Üí DELETE\n\n## üéØ Importance\n**CRITIQUE** - Acc√®s √† la base de donn√©es",
      "links": []
    },
    {
      "name": "UserDtoMapper",
      "section": 6,
      "distance": 32,
      "position": 65,
      "description": "# üîÑ Mapper DTO ‚Üî Entity\n\n**Fichier** : `mapper/UserDtoMapper.java`\n\n## R√¥le\n```java\npublic class UserDtoMapper {\n    \n    // Entity ‚Üí DTO (pour les r√©ponses API)\n    public static UserResponseDTO toDTO(User user) {\n        return UserResponseDTO.builder()\n            .id(user.getId())\n            .username(user.getUsername())\n            .email(user.getEmail())\n            // NE PAS inclure le password !\n            .build();\n    }\n    \n    // DTO ‚Üí Entity (pour la cr√©ation)\n    public static User toEntity(RegisterDTO dto) {\n        User user = new User();\n        user.setUsername(dto.getUsername());\n        user.setEmail(dto.getEmail());\n        // Password sera hash√© dans le service\n        return user;\n    }\n}\n```\n\n## Fonction\n- Convertir entre Entity et DTO\n- **IMPORTANT** : Ne jamais exposer le password dans les DTOs\n- S√©pare les donn√©es internes des donn√©es expos√©es\n\n## üéØ Importance\n**√âLEV√âE** - S√©curit√© et s√©paration des couches",
      "links": []
    },
    {
      "name": "UserControllerTest",
      "section": 7,
      "distance": 75,
      "position": 40,
      "description": "# üß™ Tests du contr√¥leur\n\n**Fichier** : `test/java/.../controller/UserControllerTest.java`\n**Framework** : JUnit 5 + MockMvc\n\n## Exemple de test\n```java\n@WebMvcTest(UserController.class)\npublic class UserControllerTest {\n    \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @MockBean\n    private UserService userService;\n    \n    @Test\n    public void testRegister() throws Exception {\n        // Given\n        RegisterDTO dto = new RegisterDTO(\"john\", \"john@email.com\", \"password123\");\n        \n        // When & Then\n        mockMvc.perform(post(\"/api/users/register\")\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(dto)))\n            .andExpect(status().isCreated())\n            .andExpect(jsonPath(\"$.username\").value(\"john\"));\n    }\n    \n    @Test\n    public void testLogin() throws Exception { }\n    \n    @Test\n    public void testGetProfile() throws Exception { }\n}\n```\n\n## R√¥le\n- Tester les endpoints de l'API\n- V√©rifier les statuts HTTP (200, 404, 400, etc.)\n- V√©rifier les r√©ponses JSON\n- **Int√©gration testing** (teste le contr√¥leur + ses d√©pendances mock√©es)\n\n## üéØ Importance\n**√âLEV√âE** - Garantit le bon fonctionnement de l'API",
      "links": []
    },
    {
      "name": "UserServiceTest",
      "section": 7,
      "distance": 78,
      "position": 60,
      "description": "# üß™ Tests du service\n\n**Fichier** : `test/java/.../service/UserServiceTest.java`\n**Framework** : JUnit 5 + Mockito\n\n## Exemple de test\n```java\n@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n    \n    @Mock\n    private UserRepository userRepository;\n    \n    @Mock\n    private PasswordEncoder passwordEncoder;\n    \n    @Mock\n    private JwtService jwtService;\n    \n    @InjectMocks\n    private UserService userService;\n    \n    @Test\n    public void testRegister_Success() {\n        // Given\n        RegisterDTO dto = new RegisterDTO(\"john\", \"john@email.com\", \"password123\");\n        when(userRepository.existsByUsername(\"john\")).thenReturn(false);\n        when(passwordEncoder.encode(\"password123\")).thenReturn(\"$2a$10$hashed...\");\n        \n        // When\n        User result = userService.register(dto);\n        \n        // Then\n        assertNotNull(result);\n        assertEquals(\"john\", result.getUsername());\n        verify(userRepository, times(1)).save(any(User.class));\n    }\n    \n    @Test\n    public void testRegister_UsernameAlreadyExists() {\n        // Given\n        when(userRepository.existsByUsername(\"john\")).thenReturn(true);\n        \n        // When & Then\n        assertThrows(UsernameAlreadyExistsException.class, () -> {\n            userService.register(dto);\n        });\n    }\n    \n    @Test\n    public void testLogin_Success() { }\n    \n    @Test\n    public void testLogin_InvalidPassword() { }\n}\n```\n\n## R√¥le\n- Tester la logique m√©tier\n- **Unit testing** (teste le service isol√©)\n- Mock les d√©pendances (repository, etc.)\n- V√©rifier les cas d'erreur\n\n## üéØ Importance\n**CRITIQUE** - Garantit la logique m√©tier",
      "links": []
    }
  ]
}